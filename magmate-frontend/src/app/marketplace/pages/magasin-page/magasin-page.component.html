<div *ngIf="magasin; else errorTemplate" class="magasin-container">
  <div class="magasin-header">
  <img [src]="'http://localhost:3000/public/images/' + magasin.image" alt="Image du magasin" class="header-image" />
  <div class="overlay">
    <div class="header-content">
      <h1>{{ magasin.nom }}</h1>
      <!--<p>{{ magasin.description }}</p>
      <p>{{magasin.ville}}</p>-->
    </div>
  </div>
</div>
<div class="magasin-buttons">
 
  <button class="delete-magasin-btn" (click)="deleteMagasin(magasin.idMagasin)">Supprimer le magasin</button>
   <button class="edit-magasin-btn" [routerLink]="['/magasin-update', magasin.idMagasin]" >modifier le magasin</button>
</div>

</div>

<ng-template #errorTemplate>
  <p class="error">{{ error || 'Aucun magasin trouvé.' }}</p>
</ng-template>

<div *ngIf="produits.length > 0">
  <h2 class="section-title">Mes produits</h2>
  <div class="product-list">
    <div *ngFor="let produit of produits" class="product-card">
      <img
        [src]="'http://localhost:3000/public/images/' + produit.imagePrincipale"
        alt="{{ produit.titre }}"
        class="product-image"
      />
      <h3>{{ produit.titre }}</h3>
      <p><strong>Prix:</strong> {{ produit.prix }} MAD</p>
      <p><strong>Ajouté le:</strong> {{ produit.dateAjout | date }}</p>

      <div class="card-buttons">
        <button class="edit-btn" [routerLink]="['/product-update', produit.idProduit]"          > Modifier </button>
        <button class="delete-btn" (click)="deleteProduct(produit.idProduit)">Supprimer</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="produits.length === 0">
  <p>Aucun produit disponible dans ce magasin pour le moment.</p>
</div>

<!-- Bouton flottant pour ajouter un produit -->
<button (click)="navigateToProductForm()" class="add-product-button" >
  + Ajouter un produit
</button>
